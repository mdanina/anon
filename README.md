# Анонимизатор психотерапевтических сессий

Инструмент для безопасной анонимизации конфиденциальных данных в записях психотерапевтических сессий. Позволяет заменять персональные данные (PII) на токены с возможностью обратного преобразования.

## Возможности

- Автоматическое распознавание 42+ типов персональных данных
- Ручная разметка через выделение текста
- Сохранение согласованности (одинаковые значения = одинаковые токены)
- Деанонимизация с восстановлением оригинальных данных
- Экспорт/импорт маппинга сущностей
- Поддержка русского и английского языков

## Варианты использования

### 1. Веб-версия (рекомендуется)

Полностью клиентское приложение — все данные обрабатываются локально в браузере.

```bash
# Вариант 1: Просто откройте файл в браузере
open web/index.html

# Вариант 2: Запустите локальный сервер
cd web
python -m http.server 8000
# Откройте http://localhost:8000
```

**Особенности веб-версии:**
- Regex-детекция телефонов, email, дат, паспортов, ИНН, СНИЛС, банковских карт
- Интерактивная разметка — выделите текст и выберите тип данных
- Опциональная интеграция с Claude/GPT API для расширенного распознавания
- Автосохранение в localStorage браузера

### 2. Python-версия (Gradio)

Серверное приложение с ML-моделью GLiNER для точного распознавания.

```bash
pip install -r requirements.txt
python app.py
```

**Особенности Python-версии:**
- ML-модель GLiNER для NER (Named Entity Recognition)
- Более точное распознавание сложных сущностей
- Требует Python и ~500MB для загрузки модели

## Типы анонимизируемых данных

| Категория | Типы |
|-----------|------|
| Личные данные | Имена, возраст, дата рождения, семья |
| Контакты | Телефоны, email, адреса |
| Документы | Паспорт, ИНН, СНИЛС, права |
| Финансы | Номера карт, счетов |
| Организации | Работодатели, школы, компании |
| Онлайн | URL, IP, соцсети, username |

## Формат токенов

```
<PII_TYPE_N>

Примеры:
<PII_PERSON_1>         — первое найденное имя
<PII_PHONE_NUMBER_1>   — первый номер телефона
<PII_ORGANIZATION_2>   — вторая организация
```

## Сценарий использования с LLM

1. Вставьте текст сессии в анонимизатор
2. Нажмите "Автоопределение" + добавьте вручную пропущенные данные
3. Нажмите "Анонимизировать"
4. Скопируйте анонимизированный текст
5. Отправьте его в ChatGPT/Claude для обработки
6. Вставьте ответ LLM во вкладку "Деанонимизация"
7. Получите текст с восстановленными именами и данными

## Безопасность

- Веб-версия работает полностью локально (данные не отправляются на сервер)
- Маппинг сущностей хранится только в вашем браузере
- API-ключи для LLM хранятся в localStorage (опционально)

## Лицензия

MIT
